<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
  <meta name="description" content="">
  <meta name="author" content="">


  <title>AZV</title>

  <!-- Bootstrap core CSS -->
  <link href="css/bootstrap.min.css" rel="stylesheet">
  <link href="css/bootstrap.css" rel="stylesheet">
  <link href="css/caribedev.css" rel="stylesheet">
  <link href="css/azv.css" rel="stylesheet">
  <link href="css/font-awesome.css" rel="stylesheet">
  <link href="css/font-awesome.min.css" rel="stylesheet">
  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->
</head>

<body>

  <div class="container-fluid">
    <nav class="navbar navbar-fixed-top navbar-top">
      <div class="col-xs-2 col-md-1 text-center footer-margin-top">
        <a class="navbar-brand" href="#">
          <img src="img/azv_logo.jpeg" class="img-logo" alt="">
        </a>
      </div>
      <div class="col-xs-2 col-md-1 pull-left  footer-margin-top">
        <a href="rating.html"><i class="fa top-fa-star-half-o azv-padding"></i></a>
      </div>
      <div class="col-xs-4 col-md-4 pull-left footer-margin-top">
        <a href="contact.html"><i class="fa top-fa-address-card azv-padding"></i></a>
      </div>
      <div class="col-xs-3 col-md-6 footer-margin-top pull-right">
        <a href="home.html" class="pull-right"><i class="glyphicon bottom-glyphicon-home margin-page"></i><b class="navbar-page">Home<b></a>
      </div>
    </nav>

    <div class="row top">
      <div class="col-md-4 col-xs-2"><img class="azv-right home-img" src="img/azv_dr.png" /></div>
      <div class="col-md-6 col-xs-10">
        <section class="panel">
          <div class="panel-heading white background-blue"><b> Doctor na Warda</b> </div>
          <div class="panel-body">
            <div id="doctor_content" name="doctor_content">
            </div>
          </div>
        </section>
      </div>
    </div>


    <nav class="navbar navbar-fixed-bottom navbar-bottom">
      <div class="col-xs-4 col-md-4 text-center footer-margin-top">
        <a href="home.html"><i class="glyphicon bottom-glyphicon-home"></i></a>
      </div>
      <div class="col-xs-4 col-md-4 text-center footer-margin-top">
        <a href="rating.html"><i class="fa bottom-fa-star-half-o"></i></a>
      </div>
      <div class="col-xs-4 col-md-4 text-center footer-margin-top">
        <a href="contact.html"><i class="fa bottom-fa-address-card"></i></a>
      </div>
    </nav>
  </div> <!-- /container -->
  <!-- <div class="row">
  <div class="footer">
</div>

</div> -->


<!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->

<script src="js/jquery-3.2.1.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/azv.js"></script>


<script>

$(function () {

  //azv_salud_doctor_list();

  // test_data = '{"data":[{"id": "1","typeDoctor": "1","name": "Jose Gregorio Ortiz Tovar","type": "Ginecologo","location": [{"city": "puerto ayacucho estado amazonas","hospital": "doctor jose gregorio hernandez","phoneNumber": "0414-1516235"},{"city": "san fernando de apure estado apure","hospital": "doctor fernando giron gomez","phoneNumber": "0414-1516235"},{"city": "altagracia de orituco estado guarico","hospital": "doctor fermin marmol leon garcia","phoneNumber": "0414-1516235"}]},{"id": "2","typeDoctor": "2","name": "Jose Tovar","type": "Dermatologo","location": [{"city": "puerto ayacucho ","hospital": "doctor hernandez","phoneNumber": "0414-1516235"},{"city": "san fernando de apure estado apure","hospital": "doctor fernando giron gomez","phoneNumber": "0414-1516235"},{"city": "altagracia de orituco estado guarico","hospital": "doctor fermin marmol leon garcia","phoneNumber": "0414-1516235"}]}]}';

  test_data = '[{"id": 1,"typedoctor": 1,"name": "Noris Yagua-Velasquez","type": "Doctor di Cas","location": [{"city": "Noord 63","hospital": "Urgent Care Aruba ","phonenumber": "5860512" }]},{"id": 1,"typedoctor": 1,"name": "Jillian Jones","type": "Doctor di Cas","location": [{"city": "De La Sallestraat 71 A","hospital": "Hospital Name","phonenumber": "5839919"}]}]';


  azv_salud_doctor_list_ok(test_data);
  // azv_salud_doctor_list();

  function azv_salud_doctor_list() {

    // loader();

    $method = 'GET';
    $url = server + 'medicalsp';
    $.ajax({

      type: $method,
      url: $url,
      ContentType: "application/json",
      //data: 'user_default_product_detail="user_company":"'+$('#user_company').val()+'"',
      headers: {
        //'token':$.cookie('token')
      },
      success: function (data) {

        azv_salud_doctor_list_ok(data);

      },
      error: function (data) {

        azv_salud_doctor_list_error(data);

      }
    });

  }

  function azv_salud_doctor_list_ok(data) {

    //TODO: Pintar los centros dinamicamente

    data = jQuery.parseJSON(data);

    flag = true;
    var k = 0;
    var append = '';

    var data_length = data.length;
    if (data_length > 0) {

      $.each(data, function (i, item) {
        append += '<div class="row">';
        append += '<div class="col-xs-3 col-sm-3 col-md-3 home-text-left">';
        append += '<b>' + item.location[0].city + '</b>';
        append += '</div>';
        append += '<div class="col-xs-5 col-sm-5 col-md-5 home-text-middle"><p class="location-name"><b>' + item.name + '</b></p><p class="location-name">' + item.location[0].city + '</p></div>';
        append += '<div class="col-xs-3 col-sm-3 col-md-3 home-text-right">';
        append += '<b><i class="glyphicon glyphicon-earphone"></i>&nbsp;&nbsp;' + item.location[0].phonenumber + '</b>';
        append += '</div>';
        append += '</div>';

        if (i != (data_length-1)){
          append += '<hr>';
        }
      });

      $('#doctor_content').append(append);

    }

  }

  function azv_salud_doctor_list_error(data) {
    console.log(data);
  }

});
</script>

</body>

</html>
